<!--
=========================================================
* Soft UI Dashboard - v1.0.3
=========================================================

* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->

{% extends 'sms-2/base.html' %}

{% load static tags %}

{% block title %} Log Details {% endblock title %}

  {% block main_body %}
  <!-- Sidebar -->
  {% include 'sms-2/sidebar.html' %}
  <!-- Sidebar Ends -->

  <main class="main-content position-relative max-height-vh-100 h-100 mt-1 border-radius-lg ">
  <!-- Navbar -->
  {% include 'sms-2/header.html' %}
  <!-- End Navbar -->
  <div class="container-fluid py-4">
    <div class="row">
      <div class="col-md-5 mt-4">
        <div class="card h-100 mb-4">
            <div class="card-header pb-0 px-3">
            <div class="row">
                <div class="col-md-6">
                <h6 class="mb-0">{{ object.modelType }}</h6>
                </div>
                <div class="col-md-6 d-flex justify-content-end align-items-center">
                <i class="far fa-calendar-alt me-2"></i>
                <small>{{ object.created_at }}</small>
                </div>
            </div>
            </div>
            <div class="card-body pt-4 p-3">
            <hr class="horizontal dark mt-0">
            <!-- <h6 class="text-uppercase text-body text-xs font-weight-bolder mb-3">Newest</h6> -->
            <ul class="list-group">
                <li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg">
                <div class="d-flex align-items-center">
                    <!-- <button class="btn btn-icon-only btn-rounded btn-outline-danger mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-down"></i></button> -->
                    <div class="d-flex flex-column">
                    <h6 class="mb-1 text-dark text-sm">Action</h6>
                    <!-- <span class="text-xs">27 March 2020, at 12:30 PM</span> -->
                    </div>
                </div>
                <div class="d-flex align-items-center text-dark text-gradient text-sm font-weight-bold">
                    {{ object.get_action_display }}
                </div>
                </li>

                <li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg">
                  <div class="d-flex align-items-center">
                      <!-- <button class="btn btn-icon-only btn-rounded btn-outline-danger mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-down"></i></button> -->
                      <div class="d-flex flex-column">
                      <h6 class="mb-1 text-dark text-sm">Created On</h6>
                      <!-- <span class="text-xs">27 March 2020, at 12:30 PM</span> -->
                      </div>
                  </div>
                  <div class="d-flex align-items-center text-dark text-gradient text-sm font-weight-bold">
                      {{ object.created_at }}
                  </div>
                  </li>

                  <li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg">
                    <div class="d-flex align-items-center">
                        <!-- <button class="btn btn-icon-only btn-rounded btn-outline-danger mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-down"></i></button> -->
                        <div class="d-flex flex-column">
                        <h6 class="mb-1 text-dark text-sm">Handled By</h6>
                        <!-- <span class="text-xs">27 March 2020, at 12:30 PM</span> -->
                        </div>
                    </div>
                    <div class="d-flex align-items-center text-dark text-gradient text-sm font-weight-bold">
                        {{ object.user }}
                    </div>
                    </li>
            </ul>
            </div>
        </div>
        </div>
        <div class="col-md-7 mt-4">
        <div class="card">
            <div class="card-header pb-0 px-3">
            <h6 class="mb-0">Changes</h6>
            </div>
            <div class="card-body px-0 pt-0 pb-2">
                <div class="table-responsive p-0">
                  <table class="table align-items-center mb-0">
                    <thead>
                      <tr>
                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Fields</th>
                        {% if object.fromObj %}
                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Previous Values</th>
                        {% endif %}
                        {%if object.toObj %}
                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Updated values</th>
                        {% endif %}
                      </tr>
                    </thead>
                    <tbody>
                    {% if object.fromObj %}
                      {% for key,value in previousObject.items %}
                        <tr>
                          <td>
                            <p class="text-xs font-weight-bold mb-0">{{ key }}</p>
                          </td>
                          <td>
                              <div class="d-flex px-2 py-1">
                                <div>
                                  <!-- <img src="../assets/img/team-2.jpg" class="avatar avatar-sm me-3" alt="user1"> -->
                                </div>
                                <div class="d-flex flex-column justify-content-center">
                                  <h6 class="mb-0 text-sm">{{ value }}</h6>
                                  <!-- <p class="text-xs text-secondary mb-0">john@creative-tim.com</p> -->
                                </div>
                              </div>
                          </td>
                          {%with  forloop.counter0 as i %}

                            {% if object.toObj %}
                              {% if value !=  updatedObject_values|index:i %}
                                <td style="width:600px ;word-break:break-word;">
                                  <div class="d-flex px-2 py-1">
                                    <div class="d-flex flex-column justify-content-center">
                                      <h6 class ='mb-0 text-sm text-success'>{{updatedObject_values|index:i}}</h6>
                                    </div>
                                  </div>
                                </td>
                              {% else %}
                                <td style="width:600px ;word-break:break-word;">
                                  <div class="d-flex px-2 py-1">
                                    <div class="d-flex flex-column justify-content-center">
                                      <h6 class ='mb-0 text-sm text-success'>{{updatedObject_values|index:i}}</h6>
                                    </div>
                                  </div>
                                </td>
                              {% endif %}
                            {% endif %}

                          {%endwith %}
                        </tr>
                      {% endfor %}
                    {% else %}
                      {% for key,value in updatedObject.items %}
                        <tr>
                          <td>
                            <p class="text-xs font-weight-bold mb-0">{{ key }}</p>
                          </td>
                          <td>
                              <div class="d-flex px-2 py-1">
                                <div>
                                  <!-- <img src="../assets/img/team-3.jpg" class="avatar avatar-sm me-3" alt="user2"> -->
                                </div>
                                <div class="d-flex flex-column justify-content-center">
                                  <h6 class="mb-0 text-sm">{{ value }}</h6>
                                  <!-- <p class="text-xs text-secondary mb-0">alexa@creative-tim.com</p> -->
                                </div>
                              </div>
                          </td>
                        </tr>
                      {% endfor %}
                    {% endif %}
                    </tbody>
                  </table>
                </div>
            </div>
        </div>
        </div>
        
    </div>
    <!-- <footer class="footer pt-3  ">
        <div class="container-fluid">
        <div class="row align-items-center justify-content-lg-between">
            <div class="col-lg-6 mb-lg-0 mb-4">
            <div class="copyright text-center text-sm text-muted text-lg-start">
                Â© <script>
                document.write(new Date().getFullYear())
                </script>,
                made with <i class="fa fa-heart"></i> by
                <a href="https://www.creative-tim.com" class="font-weight-bold" target="_blank">Creative Tim</a>
                for a better web.
            </div>
            </div>
            <div class="col-lg-6">
            <ul class="nav nav-footer justify-content-center justify-content-lg-end">
                <li class="nav-item">
                <a href="https://www.creative-tim.com" class="nav-link text-muted" target="_blank">Creative Tim</a>
                </li>
                <li class="nav-item">
                <a href="https://www.creative-tim.com/presentation" class="nav-link text-muted" target="_blank">About Us</a>
                </li>
                <li class="nav-item">
                <a href="https://creative-tim.com/blog" class="nav-link text-muted" target="_blank">Blog</a>
                </li>
                <li class="nav-item">
                <a href="https://www.creative-tim.com/license" class="nav-link pe-0 text-muted" target="_blank">License</a>
                </li>
            </ul>
            </div>
        </div>
        </div>
    </footer> -->
    </div>
    </main>

    {% block scripts %} {% endblock scripts %}

    {% endblock main_body %}